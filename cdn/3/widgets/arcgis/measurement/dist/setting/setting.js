System.register(["jimu-core","jimu-for-builder","jimu-ui","jimu-ui/advanced/setting-components","jimu-layouts/layout-runtime"],(function(e,t){var a={},s={},i={},n={},l={};return{setters:[function(e){a.LayoutItemType=e.LayoutItemType,a.LayoutType=e.LayoutType,a.React=e.React,a.classNames=e.classNames,a.css=e.css,a.defaultMessages=e.defaultMessages,a.hooks=e.hooks,a.jsx=e.jsx},function(e){s.getAppConfigAction=e.getAppConfigAction},function(e){i.Alert=e.Alert,i.Button=e.Button,i.Checkbox=e.Checkbox,i.Icon=e.Icon,i.Label=e.Label,i.Select=e.Select,i.Switch=e.Switch,i.defaultMessages=e.defaultMessages},function(e){n.MapWidgetSelector=e.MapWidgetSelector,n.SettingRow=e.SettingRow,n.SettingSection=e.SettingSection},function(e){l.LayoutItemSizeModes=e.LayoutItemSizeModes,l.searchUtils=e.searchUtils}],execute:function(){e((()=>{var e={4108:e=>{"use strict";e.exports=s},14321:e=>{"use strict";e.exports=i},31027:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M12 6.5c0 .527-.074 1.036-.212 1.518l.912.438a6.5 6.5 0 1 0-6.586 4.533l-.077-1.008A5.5 5.5 0 1 1 12 6.5m-9 0a3.5 3.5 0 0 0 2.88 3.445L5.8 8.901a2.501 2.501 0 1 1 3.194-2.224l.949.456A3.5 3.5 0 1 0 3 6.5M15.5 11l-5 1-3 4-1-9.5zm-5.57.094-1.702 2.269-.542-5.152 4.76 2.38z" clip-rule="evenodd"></path></svg>'},41496:e=>{"use strict";e.exports=l},49579:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABICAYAAAATWxDtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJdSURBVHgB7dlNa+JAHMfx/3Zb2kJbFBQU9KCg6FFBDx59ZbtvzBfgxYMHFfEBFBQUFBV8QNztP1BBN8YkPmyV7+fmOJPM+EtmxkQEAAAAAAAAAAAAAAAAAAAAwPf341iFRCLxR3A11WrVMpMHwU0hsBtDYDfmUVwKBAISj8fl8dH6EIvFQprNpvT7/bO2D4VC0u12d8r0WMFg8Ogxz2G9XstgMDD6Z0b7EA6Hxev1isfjMcqm06nR516vJ265vsOi0aitH+bl5cUI5tztzepls1l5e3uTa9DzpNNp0zF89SUSiWzDUu/v75JMJiWXyxl13HB9KTo54aFBndJ+n9/vl9FoJJVKRa5Ff3y9ozudzk65Bmk1Pv1O6xSLReNOdeJu1jAN9dD0dCl6vv2LSQO0czFqHZ3Wnbr8ZP+f5PN5catQKIhbum7Zpetbu90WJ+42sHOKxWLbIHT6q9frB+s6WUM1MKcIzAYN6GvzYBXWNRCYTeVy2Va98Xi8szO0ott8p+42sFPWITN2NzS6U7Ub2P7u0o672SXq9tjtfxu39Hz723INYT6fH22rdfYfBtjh+g7Tjtp9omA2gFPb79OnB5lMxvhvdI3tvYald1Kr1dop13GVSiVJpVLy+vpq2lbHo3Xc+Hmsgs/n+2VWvlwujR3R09OTZXsdQKPRkNlsdtb2Hx8fMplMtp83m40Mh0PjeA8Pl5849KKo1WqyWq3++U77rI+gNBgN9vn52SjX6VIvrM9XKKbt1OcYfosF3od9M7wPuzMEdmMIDAAAAAAAAAAAAAAAAAAAAADO7i8CkeMWEeT35gAAAABJRU5ErkJggg=="},79244:e=>{"use strict";e.exports=a},79298:e=>{"use strict";e.exports=n},79702:(e,t,a)=>{var s={"./classic.png":96130,"./toolbar.png":49579};function i(e){var t=n(e);return a(t)}function n(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=n,e.exports=i,i.id=79702},96130:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABICAYAAAATWxDtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFASURBVHgB7dk9boNAFADhl8iFj+DClQvEOTg450AU0FBwAyiQEpE6wmjBP2Pmq3mytKNd22yEJEmSJOmZvu49kOf5T+hpqqpabPIdQjEYjMFgDAZjMJhTJLhcLpFlWZxOy+PjOEbTNNH3/a7zR5a0w263293Fnp3P578we88fWVKweSHX+i/M1vkj8zsMxmAwBoMxGIzBYAwGYzCYpGDTNK1+dhiG3eePLClYXderFnIO07bt7vNH5o3zm/HG+cMYDMZgMAaDMRhM0mXT9XoNbdN1XaRICpb6YdrOIxHGYDAGgzEYjMFgDAZjMBiDwRgMJulNR1EU8QhlWYaWucNgDAaTdCR6dL2OOwzGYDAGgzEYjMFg3uqP8yN82i9adxiMwWAMBmMwGIPB+C4Rxh0GYzAYg8EYDMZgkiRJkiQt+AWTS06XiGZauQAAAABJRU5ErkJggg=="}},t={};function o(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="";var r={};return o.p=window.jimuConfig.baseUrl,(()=>{"use strict";o.r(r),o.d(r,{__set_webpack_public_path__:()=>v,default:()=>y});var e=o(79244),t=o(4108),a=o(14321),s=o(79298),i=o(31027),n=o.n(i),l=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(a[s[i]]=e[s[i]])}return a};const u=t=>{const a=window.SVG,{className:s}=t,i=l(t,["className"]),o=(0,e.classNames)("jimu-icon jimu-icon-component",s);return a?e.React.createElement(a,Object.assign({className:o,src:n()},i)):e.React.createElement("svg",Object.assign({className:o},i))};var c;!function(e){e.Classic="CLASSIC",e.Toolbar="TOOLBAR"}(c||(c={}));const A=[{key:"unitsLabelMetric",value:"metric"},{key:"unitsLabelImperial",value:"imperial"}],d=[{key:"unitsInches",value:"inches"},{key:"unitsLabelFeet",value:"feet"},{key:"unitsLabelYards",value:"yards"},{key:"unitsLabelMiles",value:"miles"},{key:"unitsLabelNauticalMiles",value:"nautical-miles"},{key:"unitsLabelFeetUS",value:"us-feet"},{key:"unitsLabelMeters",value:"meters"},{key:"unitsLabelKilometers",value:"kilometers"}],g=[{key:"unitsLabelSquareInches",value:"square-inches"},{key:"unitsLabelSquareFeet",value:"square-feet"},{key:"unitsLabelSquareYards",value:"square-yards"},{key:"unitsLabelSquareMiles",value:"square-miles"},{key:"unitsLabelSquareNauticalMiles",value:"square-nautical-miles"},{key:"unitsLabelSquareFeetUS",value:"square-us-feet"},{key:"unitsLabelSquareMeters",value:"square-meters"},{key:"unitsLabelSquareKilometers",value:"square-kilometers"},{key:"unitsLabelAcres",value:"acres"},{key:"unitsLabelAres",value:"ares"},{key:"unitsLabelHectares",value:"hectares"}],p={distance:"Distance",area:"Area",atLeastOne:"At least one tool should be selected",toolbar:"Toolbar",disableSnapping:"Disable snapping in 2D map"};var m=o(41496);const b=e.css`
.placeholder-container {
  height: calc(100% - 100px);
  font-weight: 500;
  color: var(--sys-color-surface-paper-hint);
  .placeholder-hint {
    font-size: 14px;
    max-width: 160px;
  }
}
.arrangement {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: var(--sys-spacing-3);
  .arrangement-item {
    min-width: 0;
    .arrangement-btn {
      padding: 0;
      overflow: visible;
      min-width: 0;
      margin-bottom: var(--sys-spacing-2);
      .arrangement-img {
        width: 100%;
        height: auto;
        margin-right: 0;
        background: var(--sys-color-action-pressed);
      }
      .arrangement-img.active {
        outline: 2px solid var(--sys-color-primary-main);
      }
    }
  }
}
`,y=i=>{const{id:n,onSettingChange:l,config:r,useMapWidgetIds:y}=i,{enableDistance:v=!0,defaultDistanceUnit:f="metric",enableArea:x=!0,defaultAreaUnit:h="metric",disableSnapping:S=!1,arrangement:j=c.Classic}=r,M=(null==y?void 0:y.length)>0,w=[...A,...d],k=[...A,...g],L=[{key:"classic",value:c.Classic},{key:"toolbar",value:c.Toolbar}],N=e.hooks.useTranslation(a.defaultMessages,e.defaultMessages,p);return(0,e.jsx)("div",{className:"widget-setting-measurement w-100 h-100",css:b},(0,e.jsx)(s.SettingSection,{title:N("selectMapWidget")},(0,e.jsx)(s.SettingRow,null,(0,e.jsx)(s.MapWidgetSelector,{onSelect:e=>{l({id:n,useMapWidgetIds:e})},useMapWidgetIds:y,"aria-describedby":"measurement-blank-msg"}))),!M&&(0,e.jsx)("div",{className:"d-flex justify-content-center align-items-center placeholder-container"},(0,e.jsx)("div",{className:"text-center"},(0,e.jsx)(u,{size:48,className:"d-inline-block placeholder-icon mb-2"}),(0,e.jsx)("p",{id:"measurement-blank-msg",className:"placeholder-hint"},N("selectMapHint")))),M&&(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(s.SettingSection,{title:N("tools"),role:"group","aria-label":N("tools")},(0,e.jsx)(s.SettingRow,null,(0,e.jsx)(a.Label,null,(0,e.jsx)(a.Checkbox,{className:"mr-2",checked:v,onChange:(e,t)=>{l({id:n,config:r.set("enableDistance",t)})}}),N("distance"))),v&&(0,e.jsx)(s.SettingRow,{label:N("defaultUnit"),truncateLabel:!0},(0,e.jsx)(a.Select,{size:"sm",value:f,className:"w-50",onChange:e=>{var t;l({id:n,config:r.set("defaultDistanceUnit",null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value)})},"aria-label":N("distance")+" "+N("defaultUnit")},w.map((t=>(0,e.jsx)("option",{key:t.key,value:t.value},N(t.key)))))),(0,e.jsx)(s.SettingRow,null,(0,e.jsx)(a.Label,null,(0,e.jsx)(a.Checkbox,{className:"mr-2",checked:x,onChange:(e,t)=>{l({id:n,config:r.set("enableArea",t)})}}),N("area"))),x&&(0,e.jsx)(s.SettingRow,{label:N("defaultUnit"),truncateLabel:!0},(0,e.jsx)(a.Select,{size:"sm",value:h,className:"w-50",onChange:e=>{var t;l({id:n,config:r.set("defaultAreaUnit",null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.value)})},"aria-label":N("area")+" "+N("defaultUnit")},k.map((t=>(0,e.jsx)("option",{key:t.key,value:t.value},N(t.key)))))),(x||v)&&(0,e.jsx)(s.SettingRow,{tag:"label",label:N("disableSnapping"),truncateLabel:!0},(0,e.jsx)(a.Switch,{checked:S,"aria-label":N("disableSnapping"),onChange:(e,t)=>{l({id:n,config:r.set("disableSnapping",t)})}})),!v&&!x&&(0,e.jsx)(s.SettingRow,null,(0,e.jsx)(a.Alert,{form:"basic",type:"warning",className:"w-100",open:!0,text:N("atLeastOne")}))),(0,e.jsx)(s.SettingSection,{title:N("arrangement"),role:"radiogroup","aria-label":N("arrangement")},(0,e.jsx)(s.SettingRow,{className:"arrangement"},L.map((s=>(0,e.jsx)("div",{className:"arrangement-item",key:s.value},(0,e.jsx)(a.Button,{type:"tertiary",disableRipple:!0,title:N(s.key),className:"arrangement-btn",role:"radio","aria-checked":j===s.value,onClick:()=>{(a=>{const s=(0,t.getAppConfigAction)();s.editWidget({id:n,config:r.set("arrangement",a)}),m.searchUtils.getLayoutInfosHoldContent(s.appConfig,e.LayoutItemType.Widget,n).forEach((t=>{s.appConfig.layouts[t.layoutId].type===e.LayoutType.FixedLayout?a===c.Toolbar?s.editLayoutItemProperty(t,"setting.autoProps.width",m.LayoutItemSizeModes.Auto).editLayoutItemProperty(t,"setting.autoProps.height",m.LayoutItemSizeModes.Auto).editWidgetProperty(n,"offPanel",!0).exec():a===c.Classic&&s.editLayoutItemProperty(t,"setting.autoProps.width",m.LayoutItemSizeModes.Custom).editLayoutItemProperty(t,"setting.autoProps.height",m.LayoutItemSizeModes.Custom).editLayoutItemProperty(t,"bbox.width","300px").editLayoutItemProperty(t,"bbox.height","420px").editWidgetProperty(n,"offPanel",!1).exec():s.exec()}))})(s.value)}},(0,e.jsx)(a.Icon,{autoFlip:!0,icon:o(79702)(`./${s.key}.png`),className:(0,e.classNames)("arrangement-img",{active:j===s.value})})),(0,e.jsx)("div",{className:"text-truncate text-center",title:N(s.key)},N(s.key)))))))))};function v(e){o.p=e}})(),r})())}}}));