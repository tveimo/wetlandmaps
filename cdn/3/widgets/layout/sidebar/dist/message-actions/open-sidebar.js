System.register(["jimu-core","jimu-ui"],(function(e,t){var o={},r={};return{setters:[function(e){o.AbstractMessageAction=e.AbstractMessageAction,o.AppMode=e.AppMode,o.Immutable=e.Immutable,o.MessageType=e.MessageType,o.appActions=e.appActions,o.getAppStore=e.getAppStore},function(e){r.NormalLineType=e.NormalLineType}],execute:function(){e((()=>{var e={14321:e=>{"use strict";e.exports=r},79244:e=>{"use strict";e.exports=o}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,a),s.exports}a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="";var s={};return a.p=window.jimuConfig.baseUrl,(()=>{"use strict";a.r(s),a.d(s,{default:()=>p});var e,t,o,r,i=a(79244),n=a(14321);!function(e){e.First="FIRST",e.Second="SECOND"}(e||(e={})),function(e){e.Start="START",e.Center="CENTER",e.End="END"}(t||(t={})),function(e){e.Horizontal="HORIZONTAL",e.Vertical="VERTICAL"}(o||(o={})),function(e){e.Left="LEFT",e.Right="RIGHT",e.Up="UP",e.Down="DOWN"}(r||(r={}));(0,i.Immutable)({direction:o.Horizontal,collapseSide:e.First,overlay:!1,size:"300px",divider:{visible:!0,lineStyle:{type:n.NormalLineType.SOLID,color:"var(--ref-palette-neutral-500)",width:"1px"}},resizable:!1,toggleBtn:{visible:!0,icon:r.Left,iconSource:0,offsetX:15,offsetY:0,position:t.Center,iconSize:14,width:15,height:60,border:{type:n.NormalLineType.SOLID,color:"var(--ref-palette-neutral-500)",width:"1px"},color:{normal:{icon:{useTheme:!1,color:"var(--ref-palette-black)"},bg:{useTheme:!0,color:"var(--ref-palette-neutral-200)"}},hover:{bg:{useTheme:!0,color:"var(--ref-palette-neutral-200)"}}},expandStyle:{style:{borderRadius:"0 92px 92px 0"}},collapseStyle:{style:{borderRadius:"0 92px 92px 0"}}},defaultState:1});class p extends i.AbstractMessageAction{getDefaultMessageActionConfig(){return{}}filterMessageDescription(e){return(0,i.getAppStore)().getState().appRuntimeInfo.appMode===i.AppMode.Express?e.messageType===i.MessageType.ButtonClick||e.messageType===i.MessageType.ViewChange:e.messageType===i.MessageType.ButtonClick||e.messageType===i.MessageType.ViewChange||e.messageType===i.MessageType.DataRecordsSelectionChange}filterMessage(){return!0}getSettingComponentUri(e){const t=(0,i.getAppStore)().getState().appRuntimeInfo.appMode;return e===i.MessageType.DataRecordsSelectionChange?t===i.AppMode.Express?null:"message-actions/open-sidebar-setting":null}onExecute(t,o){var r;if(t.type===i.MessageType.DataRecordsSelectionChange){const e=t;if(!e.records||0===e.records.length)return!0;if((null===(r=null==o?void 0:o.useDataSources)||void 0===r?void 0:r.length)>0){const t=e.records[0].dataSource.id;if(!o.useDataSources.some((e=>e.dataSourceId===t||e.mainDataSourceId===t)))return!0}}return(0,i.getAppStore)().dispatch(i.appActions.widgetStatePropChange(this.widgetId,"collapse",!0)),function(t,o){var r,a;const s=(0,i.getAppStore)().getState(),n=s.appConfig.widgets[t],p=n.layouts.FIRST,l=n.layouts.SECOND,c=s.browserSizeMode,d=s.appConfig.mainSizeMode;let u;u=n.config.collapseSide===e.First?null!==(r=p[c])&&void 0!==r?r:p[d]:null!==(a=l[c])&&void 0!==a?a:l[d],o?((0,i.getAppStore)().dispatch(i.appActions.showWidgetsInLayout(u)),(0,i.getAppStore)().dispatch(i.appActions.widgetStatePropChange(t,"hiddenLayoutIds",[]))):((0,i.getAppStore)().dispatch(i.appActions.hideWidgetsInLayout(u)),(0,i.getAppStore)().dispatch(i.appActions.widgetStatePropChange(t,"hiddenLayoutIds",[u])))}(this.widgetId,!0),!0}}})(),s})())}}}));