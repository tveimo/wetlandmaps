System.register(["jimu-core","jimu-layouts/layout-runtime"],(function(e,t){var s={},o={};return{setters:[function(e){s.AbstractMessageAction=e.AbstractMessageAction,s.FixedPosition=e.FixedPosition,s.MessageType=e.MessageType,s.WidgetState=e.WidgetState,s.appActions=e.appActions,s.getAppStore=e.getAppStore},function(){}],execute:function(){e((()=>{var e={41496:e=>{"use strict";e.exports=o},79244:e=>{"use strict";e.exports=s}},t={};function i(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,i),r.exports}i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="";var r={};return i.p=window.jimuConfig.baseUrl,(()=>{"use strict";i.r(r),i.d(r,{default:()=>t});var e=i(79244);i(41496);e.FixedPosition.TopRight,document.body;class t extends e.AbstractMessageAction{constructor(){super(...arguments),this.supportedMessageTypes=[e.MessageType.ButtonClick],this.getDefaultMessageActionConfig=e=>({widgetIds:[]})}filterMessageDescription(e){return this.supportedMessageTypes.includes(e.messageType)}filterMessage(e){return!0}onExecute(t,s){var o,i;if(!s)return Promise.resolve(!0);const r=null==s?void 0:s.widgetIds.asMutable();if(!r||0===r.length)return Promise.resolve(!0);const n=this.widgetId,p=(0,e.getAppStore)().getState(),a=p.appConfig.widgets[n].config,c=null===(o=null==a?void 0:a.behavior)||void 0===o?void 0:o.onlyOpenOne,d=null!==(i=p.widgetsRuntimeInfo)&&void 0!==i?i:{},u=Object.keys(d).filter((t=>{const s=d[t];return s.controllerWidgetId===n&&(t=>[e.WidgetState.Opened,e.WidgetState.Active].includes(t.state))(s)}));if(c)(0,e.getAppStore)().dispatch(e.appActions.closeWidgets(u)),u.includes(r[0])||(0,e.getAppStore)().dispatch(e.appActions.openWidgets(r));else{r.every((e=>u.includes(e)))?(0,e.getAppStore)().dispatch(e.appActions.closeWidgets(r)):(0,e.getAppStore)().dispatch(e.appActions.openWidgets(r))}return Promise.resolve(!0)}}})(),r})())}}}));