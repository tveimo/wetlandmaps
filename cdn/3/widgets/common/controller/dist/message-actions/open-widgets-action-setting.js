System.register(["jimu-core","jimu-ui","jimu-ui/advanced/setting-components","jimu-for-builder","jimu-layouts/layout-runtime","jimu-theme","jimu-ui/advanced/style-setting-components","jimu-ui/basic/color-picker"],(function(e,t){var a={},n={},i={},o={},l={},s={},r={},c={};return{setters:[function(e){a.DataSourceTypes=e.DataSourceTypes,a.FixedPosition=e.FixedPosition,a.Immutable=e.Immutable,a.MessageType=e.MessageType,a.React=e.React,a.ReactRedux=e.ReactRedux,a.css=e.css,a.defaultMessages=e.defaultMessages,a.hooks=e.hooks,a.polished=e.polished},function(e){n.Label=e.Label,n.MultiSelect=e.MultiSelect,n.MultiSelectItem=e.MultiSelectItem,n.Option=e.Option,n.Radio=e.Radio,n.Select=e.Select,n.defaultMessages=e.defaultMessages},function(e){i.MessageActionDataSelector=e.MessageActionDataSelector,i.SettingRow=e.SettingRow,i.SettingSection=e.SettingSection},function(){},function(e){l.searchUtils=e.searchUtils},function(e){s.styled=e.styled},function(){},function(){}],execute:function(){e((()=>{var e={778:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" fill-rule="evenodd" d="M8.829 2.535a.909.909 0 0 0-1.657 0L2.291 13.356a.456.456 0 0 0 .831.377L4.818 10h6.365l1.696 3.733a.456.456 0 0 0 .831-.377zM5.272 9 8 3l2.729 6z" clip-rule="evenodd"></path></svg>'},1888:e=>{"use strict";e.exports=s},4108:e=>{"use strict";e.exports=o},14321:e=>{"use strict";e.exports=n},15562:e=>{"use strict";e.exports=r},17087:(e,t,a)=>{"use strict";a.d(t,{bC:()=>i});var n=a(79244);const i="controller";n.FixedPosition.TopRight,document.body},24410:(e,t,a)=>{"use strict";a.d(t,{useControlledWidgets:()=>u});var n,i,o,l=a(79244),s=(a(4108),a(79298),a(41496));!function(e){e.Stack="STACK",e.SideBySide="SIDEBYSIDE"}(n||(n={})),function(e){e.Center="center",e.Start="start",e.End="end"}(i||(i={})),function(e){e.Arrows="ARROWS",e.PopupWindow="POPUP_WINDOW"}(o||(o={}));a(14321),a(49014);var r,c=a(1888);!function(e){e[e.Circle=0]="Circle",e[e.Rectangle=1]="Rectangle"}(r||(r={}));a(15562),a(17087),a(54337),a(778);a(45508);c.styled.div`
  width: 100%;
  height: 1px;
  background-color: var(--ref-palette-neutral-500);
  margin: 16px 0;
`,l.css`
    font-size: 13px;
    font-weight: 400;
    .setting-row-item {
      width: 100%;
      display: flex;
      margin-top: 0.5rem;
      > span.jimu-radio {
        flex-shrink: 0;
        margin-top: 0.1rem;
      }
      > label {
        margin-bottom: 0;
      }
    }
    .jimu-multi-select {
      width: 100%;
      > .jimu-dropdown {
        width: 100%;
      }
      > .jimu-menu-item {
        width: 100%;
        height: ${l.polished.rem(26)};
      }
    }
  `;const u=(e,t)=>{const a=(e=>{var t,a,n;let i=(null!==(n=null===(a=null===(t=null==e?void 0:e.order)||void 0===t?void 0:t.asMutable)||void 0===a?void 0:a.call(t))&&void 0!==n?n:[]).map((t=>{var a;return null===(a=e.content)||void 0===a?void 0:a[t]}));return i=i.filter((e=>e&&e.id&&e.widgetId&&!e.isPending)),i.map((e=>e.id)).map((t=>{var a,n;return null===(n=null===(a=e.content)||void 0===a?void 0:a[t])||void 0===n?void 0:n.widgetId}))})(l.ReactRedux.useSelector((a=>{var n,i,o,l;const r=null===(o=null===(i=null===(n=(a=a.appStateInBuilder).appConfig.widgets)||void 0===n?void 0:n[e])||void 0===i?void 0:i.layouts)||void 0===o?void 0:o[t],c=a.browserSizeMode,u=a.appConfig.mainSizeMode,d=s.searchUtils.findLayoutId(r,c,u);return null===(l=a.appConfig.layouts)||void 0===l?void 0:l[d]}))),n=l.ReactRedux.useSelector((e=>e.appStateInBuilder.appConfig.widgets));return(0,l.Immutable)(a||[]).map((e=>{var t;return{label:null===(t=n[e])||void 0===t?void 0:t.label,value:e}}))}},41496:e=>{"use strict";e.exports=l},45508:e=>{e.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="#000" d="M8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2M6.5 7.5A.5.5 0 0 1 7 7h1.5v4.5h1a.5.5 0 0 1 0 1h-3a.5.5 0 0 1 0-1h1V8H7a.5.5 0 0 1-.5-.5"></path><path fill="#000" fill-rule="evenodd" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16m0-1A7 7 0 1 0 8 1a7 7 0 0 0 0 14" clip-rule="evenodd"></path></svg>'},49014:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={_widgetLabel:"Widget Controller",openWidget:"How many widgets can be opened",displayType:"Display type",iconStyle:"Icon",showIconLabel:"Label",iconSizeOverride:"Size",iconInterval:"Spacing",advancedIconStyle:"Icon style",advancedIconColor:"Icon color",openStart:"Open widgets on loading",widgetsSelected:"{widgetNumber} widgets selected",appearanceTip:"Select the widgets inside the Widget Controller, and customize their icons, labels, or styles to change their appearances.",appearanceTipExpress:"Customize widget icon styles within the Widget Controller to change their appearances.",widgetPanelArrangment:"Widget panel arrangement",panelFloating:"Floating",indicator:"Indicator",messageAction_openWidget:"Open widget",messageAction_toggleWidget:"Toggle widget",overflownStyle:"Overflow style",popupWindow:"Popup window"}},54337:e=>{"use strict";e.exports=c},79244:e=>{"use strict";e.exports=a},79298:e=>{"use strict";e.exports=i}},t={};function u(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,u),i.exports}u.d=(e,t)=>{for(var a in t)u.o(t,a)&&!u.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.p="";var d={};return u.p=window.jimuConfig.baseUrl,(()=>{"use strict";u.r(d),u.d(d,{default:()=>r});var e=u(79244),t=u(14321),a=u(79298),n=u(49014),i=u(24410),o=u(17087);function l(a){const{widgetId:n,selectedWidgetIds:l,onChange:s}=a,r=e.ReactRedux.useSelector((e=>{var t,a;const i=null===(t=e.appStateInBuilder.appConfig.widgets[n])||void 0===t?void 0:t.config;return null===(a=null==i?void 0:i.behavior)||void 0===a?void 0:a.onlyOpenOne})),c=(0,i.useControlledWidgets)(n,o.bC),u=e.React.useCallback(((e,t)=>{s([t])}),[s]),d=e.React.useCallback(((e,t)=>{s(t)}),[s]),g=e.hooks.useTranslation(t.defaultMessages),p=e.React.useCallback((e=>g("numSelected",{number:e.length})),[g]);return e.React.useEffect((()=>{r&&l.length>1&&s([l[0]]),r&&0===l.length&&c.length>0&&s([c[0].value])}),[c,r,s,l]),e.React.createElement(e.React.Fragment,null,r&&e.React.createElement(t.Select,{value:l[0]||"",onChange:u},c.map((a=>e.React.createElement(t.Option,{value:a.value,key:a.value},a.label)))),!r&&e.React.createElement(t.MultiSelect,{values:l||[],className:"pt-1 custom-multiselect",displayByValues:p,onChange:d},c.map((a=>e.React.createElement(t.MultiSelectItem,{key:a.value,value:a.value,label:a.label})))))}const s=(0,e.Immutable)([e.DataSourceTypes.FeatureLayer,e.DataSourceTypes.SceneLayer,e.DataSourceTypes.BuildingComponentSubLayer,e.DataSourceTypes.ImageryLayer,e.DataSourceTypes.OrientedImageryLayer,e.DataSourceTypes.SubtypeGroupLayer,e.DataSourceTypes.SubtypeSublayer]);function r(i){var o;const{actionId:r,widgetId:c,messageWidgetId:u,messageType:d,onSettingChange:g}=i,p=i.config,m=[e.MessageType.DataRecordsSelectionChange].includes(d),v=e.hooks.useTranslation(n.A,e.defaultMessages,t.defaultMessages),[S,h]=e.React.useState((null===(o=p.useDataSources)||void 0===o?void 0:o.length)>0),f=e.React.useCallback((e=>{h(e),e||g({actionId:r,config:p.set("useDataSources",[])})}),[r,p,g]),y=e.React.useCallback((e=>{g({actionId:r,config:p.set("useDataSources",e)})}),[r,p,g]),w=e.React.useCallback((e=>{g({actionId:r,config:p.set("widgetIds",e)})}),[r,p,g]);return e.React.createElement("div",null,m&&e.React.createElement(a.SettingSection,{title:v("messageAction_TriggerData")},e.React.createElement(a.SettingRow,null,e.React.createElement(t.Label,null,e.React.createElement(t.Radio,{className:"mr-2",checked:!S,onChange:()=>{f(!1)}}),v("allDataWithoutCount"))),e.React.createElement(a.SettingRow,null,e.React.createElement(t.Label,{className:"d-flex align-items-center label-line-height"},e.React.createElement(t.Radio,{className:"mr-2",checked:S,onChange:()=>{f(!0)}}),v("custom"))),S&&e.React.createElement(a.SettingRow,{flow:"wrap"},e.React.createElement(a.MessageActionDataSelector,{messageWidgetId:u,messageType:d,types:s,useDataSources:p.useDataSources,onChange:y}))),e.React.createElement(a.SettingSection,null,e.React.createElement(a.SettingRow,{label:v("messageAction_openWidget"),flow:"wrap"},e.React.createElement(l,{widgetId:c,selectedWidgetIds:p.widgetIds,onChange:w}))))}})(),d})())}}}));